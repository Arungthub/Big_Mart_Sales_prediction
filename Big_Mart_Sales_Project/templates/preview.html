<!DOCTYPE html>
<html>
<head>
    <title>Dataset Preview</title>
    <style>
        body { font-family: Arial; background: #f4f6f8; padding: 40px; }
        h2 { color: #007bff; text-align: center; }
        table { border-collapse: collapse; width: 100%; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background: #007bff; color: white; }
        .chart { text-align: center; margin: 20px 0; }
        .form-container {
            background: white; padding: 20px; border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); width: 400px; margin: 30px auto;
        }
        select, button {
            width: 100%; padding: 10px; margin: 10px 0;
            border-radius: 6px; border: 1px solid #ccc;
        }
        button { background: #28a745; color: white; border: none; cursor: pointer; }
        button:hover { background: #218838; }
    </style>
</head>
<body>
    <h2>Dataset Preview</h2>
    <div>{{ table|safe }}</div>

    <div class="chart">
        <h3>Sales Chart</h3>
        <img src="data:image/png;base64,{{ chart }}" alt="Chart">
    </div>

    <div class="form-container">
        <h3>Predict Sales</h3>
        <form action="/predict" method="POST">
            <label>Fat Content:</label>
            <select name="fat" required>
                {% for f in fats %}
                    <option value="{{ f }}">{{ f }}</option>
                {% endfor %}
            </select>

            <label>Item Type:</label>
            <select name="item_type" required>
                {% for t in item_types %}
                    <option value="{{ t }}">{{ t }}</option>
                {% endfor %}
            </select>

            <label>Outlet Type:</label>
            <select name="outlet" required>
                {% for o in outlets %}
                    <option value="{{ o }}">{{ o }}</option>
                {% endfor %}
            </select>

            <label>Location Type:</label>
            <select name="loc" required>
                {% for l in locs %}
                    <option value="{{ l }}">{{ l }}</option>
                {% endfor %}
            </select>

            <button type="submit">Predict</button>
        </form>
    </div>
</body>
</html>
